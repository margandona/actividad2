<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Centro de Mando de La Agencia TecnoFuturo - Paisaje de Aprendizaje de TecnologÃ­a">
    <title>Agencia TecnoFuturo | Centro de Mando</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="assets/img/logo-tecnofuturo.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/img/logo-tecnofuturo.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/img/logo-tecnofuturo.png">
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

    <!-- Audio tags (mÃºsica de fondo + sonidos UI) -->
    <!-- MÃšSICA DE FONDO: 
         OpciÃ³n 1: Descargar el track con licencia de Epidemic Sound y guardarlo como assets/audio/bg.mp3
         OpciÃ³n 2: Descargar el audio de YouTube usando herramientas como y2mate.com o youtube-dl:
                    https://www.youtube.com/watch?v=qYaKzpMdBaM
                    Luego guardar como assets/audio/bg.mp3
         NOTA: YouTube no se puede reproducir directamente por polÃ­ticas CORS.
    -->
    <!-- AUDIO DE FONDO -->
    <!-- Audio principal para pantalla Welcome -->
    <audio id="audioPrincipal" loop preload="auto">
        <source src="assets/audio/principal.mp3" type="audio/mpeg">
    </audio>
    
    <!-- Audio de fondo para Dashboard -->
    <audio id="bgMusic" loop preload="auto">
        <source src="assets/audio/audio.mp3" type="audio/mpeg">
        <source src="assets/audio/bg.ogg" type="audio/ogg">
    </audio>
    
    <!-- SONIDOS UI -->
    <audio id="audioHover" preload="auto">
        <source src="assets/audio/hover.mp3" type="audio/mpeg">
    </audio>
    <audio id="audioClick" preload="auto">
        <source src="assets/audio/click.mp3" type="audio/mpeg">
    </audio>
    <audio id="audioOpen" preload="auto">
        <source src="assets/audio/open.mp3" type="audio/mpeg">
    </audio>
    <audio id="audioClose" preload="auto">
        <source src="assets/audio/close.mp3" type="audio/mpeg">
    </audio>

    <!-- SECCIÃ“N WELCOME -->
    <section id="welcome" class="section-welcome active" role="main">
        <div class="animated-background"></div>
        <div class="welcome-content">
            <h1 class="welcome-title">Agencia TecnoFuturo</h1>
            <p class="welcome-subtitle">Centro de Mando Digital | TecnologÃ­a 2Â° Medio</p>
            <p class="welcome-description">Ingresa al tablero de misiones y comienza tu viaje en el mundo de la tecnologÃ­a digital</p>
            <div class="welcome-buttons">
                <button id="btnEntrar" class="btn btn-primary btn-lg btn-enter" aria-label="Entrar al centro de mando">
                    <img src="assets/img/iconos/entrar.png" alt="" class="icon-img me-2">Entrar
                </button>
                <button id="btnHistoriaWelcome" class="btn btn-outline-light btn-lg" aria-label="Ver historia de la agencia">
                    <img src="assets/img/iconos/historia.png" alt="" class="icon-img me-2">Historia
                </button>
                <button id="btnInstruccionesWelcome" class="btn btn-outline-light btn-lg" aria-label="Ver instrucciones">
                    <img src="assets/img/iconos/info.png" alt="" class="icon-img me-2">Instrucciones
                </button>
            </div>
        </div>
    </section>

    <!-- SECCIÃ“N DASHBOARD -->
    <section id="dashboard" class="section-dashboard" role="main" aria-label="Centro de mando">
        
        <!-- Navbar responsive -->
        <nav class="navbar navbar-expand-lg top-bar" role="navigation" aria-label="NavegaciÃ³n principal">
            <div class="container-fluid">
                <h2 class="navbar-brand top-bar-title mb-0">Centro de Mando</h2>
                
                <!-- BotÃ³n Checklist en navbar -->
                <button id="btnChecklistNavbar" class="checklist-navbar" aria-label="Ver checklist de progreso">
                    <img src="assets/img/checklist.png" alt="Checklist" draggable="false">
                    <span class="checklist-pulse"></span>
                </button>
                
                <!-- BotÃ³n toggler para mobile -->
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMain" 
                        aria-controls="navbarMain" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                
                <!-- MenÃº colapsable -->
                <div class="collapse navbar-collapse" id="navbarMain">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <button id="btnInicio" class="btn btn-sm btn-outline-light nav-btn" aria-label="Volver al inicio">
                                <img src="assets/img/iconos/home.png" alt="" class="icon-img-sm me-1">Inicio
                            </button>
                        </li>
                        <li class="nav-item">
                            <button id="btnHistoria" class="btn btn-sm btn-outline-light nav-btn" aria-label="Ver historia de la agencia">
                                <img src="assets/img/iconos/historia.png" alt="" class="icon-img-sm me-1">Historia
                            </button>
                        </li>
                        <li class="nav-item">
                            <button id="btnInstrucciones" class="btn btn-sm btn-outline-light nav-btn" aria-label="Ver instrucciones">
                                <img src="assets/img/iconos/info.png" alt="" class="icon-img-sm me-1">Instrucciones
                            </button>
                        </li>
                        <li class="nav-item">
                            <button id="btnMedallero" class="btn btn-sm btn-outline-light nav-btn" aria-label="Ver medallero" data-bs-toggle="modal" data-bs-target="#modalMedallero">
                                <i class="bi bi-award-fill me-1"></i>Medallero
                            </button>
                        </li>
                        <li class="nav-item">
                            <button id="btnPuzzle" class="btn btn-sm btn-outline-light nav-btn" aria-label="Ver puzzle" data-bs-toggle="modal" data-bs-target="#modalPuzzle">
                                <img src="assets/img/puzle.png" alt="" class="icon-img-sm me-1">Puzzle
                            </button>
                        </li>
                        <li class="nav-item">
                            <button id="btnMuteToggle" class="btn btn-sm btn-outline-light nav-btn" aria-label="Silenciar mÃºsica" title="Silenciar mÃºsica">
                                <img src="assets/img/iconos/sound-on.png" alt="" class="icon-sound me-1" id="iconSound"><span id="audioText">Audio</span>
                            </button>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Leyenda de badges -->
        <div class="legend-badges">
            <span class="badge bg-obligatoria">Obligatoria</span>
            <span class="badge bg-optativa">Optativa</span>
            <span class="badge bg-refuerzo">Refuerzo</span>
        </div>

        <!-- Contenedor del tablero -->
        <div id="boardContainer" class="board-container">
            <!-- Los utensilios se renderizarÃ¡n aquÃ­ dinÃ¡micamente -->
        </div>

        <!-- Bot Asistente -->
        <button id="helperBot" class="helper-bot" aria-label="Abrir ayuda del bot asistente">
            <img src="assets/img/bot.png" alt="Bot asistente" draggable="false">
            <span class="bot-pulse"></span>
        </button>

        <!-- Panel del Bot -->
        <div id="botPanel" class="bot-panel" role="dialog" aria-labelledby="botPanelTitle" aria-hidden="true">
            <div class="bot-panel-header">
                <h3 id="botPanelTitle"><i class="bi bi-robot me-2"></i>Asistente de la Agencia</h3>
                <button id="closeBotPanel" class="btn-close" aria-label="Cerrar panel de ayuda"></button>
            </div>
            <div class="bot-panel-tabs">
                <button class="bot-tab active" data-tab="historia" aria-label="Ver historia">
                    <i class="bi bi-book-fill me-1"></i>Historia
                </button>
                <button class="bot-tab" data-tab="ayuda" aria-label="Ver ayuda">
                    <i class="bi bi-lightbulb-fill me-1"></i>Ayuda
                </button>
            </div>
            <div class="bot-panel-content">
                <div id="botTabHistoria" class="bot-tab-content active">
                    <p class="bot-message">
                        Has llegado al Centro de Mando de la Agencia TecnoFuturo. Esta ruta forma analistas capaces de usar la tecnologia con criterio, creatividad y responsabilidad.
                    </p>
                    <button id="btnOpenHistoriaFromBot" class="btn btn-sm btn-outline-primary w-100">
                        <i class="bi bi-book me-1"></i>Abrir historia completa
                    </button>
                </div>
                <div id="botTabAyuda" class="bot-tab-content">
                    <div id="botHelpContent">
                        <p class="bot-message">
                            <i class="bi bi-info-circle me-2"></i>
                            <strong>La ruta esta activa.</strong> Elige una herramienta del 1 al 6, cumple la mision y gana tu medalla.
                        </p>
                        <div class="bot-tips">
                            <p><strong>Bitacora rapida:</strong></p>
                            <ul>
                                <li>Sigue el orden recomendado (1â†’2â†’3...)</li>
                                <li>Lee el contexto narrativo antes de actuar</li>
                                <li>Completa las misiones obligatorias (naranja)</li>
                                <li>Marca la mision completada para obtener tu medalla</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- MODAL DE ACTIVIDAD -->
    <div class="modal fade" id="modalActividad" tabindex="-1" aria-labelledby="modalActividadLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title" id="modalActividadLabel">TÃ­tulo de la Actividad</h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body">
                    <div id="modalActividadContent">
                        <!-- Contenido dinÃ¡mico -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    <a id="btnRecurso" href="#" target="_blank" rel="noopener noreferrer" class="btn btn-primary">
                        <i class="bi bi-box-arrow-up-right me-1"></i>Ir al recurso
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL DE HISTORIA -->
    <div class="modal fade" id="modalHistoria" tabindex="-1" aria-labelledby="modalHistoriaLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title" id="modalHistoriaLabel">
                        <i class="bi bi-book-fill me-2"></i>Historia â€“ Agencia TecnoFuturo
                    </h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body">
                    <div class="lore-content">
                        <p class="lead mb-4"><strong>Nuestra Historia â€“ Actividad</strong></p>
                        <p>
                            En un mundo donde la tecnologia avanza mas rapido que nuestra capacidad de comprenderla, surge una mision:
                            formar ciudadanos criticos, creativos y capaces de utilizar la innovacion para el bien comun.
                        </p>
                        <p>
                            La actividad se situa en un escenario donde los participantes forman parte de un equipo interdisciplinario
                            encargado de resolver desafios reales mediante el uso estrategico de herramientas digitales. A traves de
                            investigacion, colaboracion y toma de decisiones, deberan analizar informacion, disenar soluciones y evaluar
                            su impacto.
                        </p>
                        <p>
                            Durante el recorrido, integraran pensamiento critico, trabajo colaborativo y uso responsable de la tecnologia.
                            Contaran con recursos digitales, apoyo de plataformas educativas y herramientas interactivas que simulan
                            entornos reales de aplicacion profesional.
                        </p>
                        <p>
                            El objetivo no es solo completar tareas, sino comprender como el conocimiento se transforma en accion, como
                            la tecnologia se convierte en herramienta de aprendizaje y como cada decision influye en el resultado final.
                        </p>
                        <p class="mb-4">
                            Al finalizar, los participantes no solo habran resuelto el desafio, sino que habran fortalecido habilidades
                            clave para desenvolverse en contextos academicos, laborales y sociales en constante cambio.
                        </p>
                        
                        <h4 class="mt-4 mb-3"><i class="bi bi-compass me-2"></i>Reglas del Itinerario</h4>
                        <ul class="instruction-list">
                            <li>Hay <strong>6 misiones</strong> del 1 al 6. Algunas son obligatorias, otras optativas o de refuerzo.</li>
                            <li>Cada mision entrena una <strong>habilidad cognitiva</strong> (Recordar, Comprender, Aplicar, Analizar, Evaluar, Crear).</li>
                            <li>Lee el <strong>contexto narrativo</strong> y completa el <strong>checklist del bot</strong> en cada mision.</li>
                            <li>Solo puedes marcar una mision como completada cuando termines todo el checklist.</li>
                            <li>Al completar una mision, ganas una <strong>medalla</strong> y revelas una pieza del <strong>puzzle</strong>.</li>
                            <li>Al terminar las 6 misiones, habras rescatado a tu <strong>mascota guardiana</strong> del ciberespacio.</li>
                            <li>La mision final (A6) es la <strong>entrega del informe</strong>: un mensaje digital responsable.</li>
                        </ul>

                        <div class="alert alert-warning mt-4">
                            <i class="bi bi-exclamation-triangle-fill me-2"></i>
                            <strong>Urgente:</strong> Tu mascota guardiana esta perdida en el ciberespacio.
                            Completa las 6 misiones y sus checklists para rescatarla pieza por pieza.
                        </div>
                        <div class="alert alert-info mt-3">
                            <i class="bi bi-lightbulb-fill me-2"></i>
                            <strong>Consejo del Director:</strong> No te apresures. Cada mision construye la siguiente.
                            Observa, piensa y crea con proposito. Tu mascota guardiana te espera al final del camino.
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    <button type="button" id="btnComenzarMision1" class="btn btn-primary">
                        <i class="bi bi-play-fill me-1"></i>Comenzar MisiÃ³n 1
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL DE HISTORIA RESUMEN -->
    <div class="modal fade" id="modalHistoriaResumen" tabindex="-1" aria-labelledby="modalHistoriaResumenLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title" id="modalHistoriaResumenLabel">
                        <i class="bi bi-book-half me-2"></i>Resumen de la historia
                    </h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body">
                    <p class="lead">
                        La Agencia TecnoFuturo abre sus puertas. Hoy entras como aspirante, y saldras como analista capaz
                        de entender la tecnologia, cuestionarla y crear mensajes responsables.
                    </p>
                    <p class="text-warning fw-bold">
                        Â¡Tu mascota guardiana se ha perdido en el ciberespacio! Cada mision completada revela una pieza
                        del puzzle para rescatarla.
                    </p>
                    <p>
                        Cada herramienta del centro es una sala de entrenamiento. Si avanzas en orden y completas los checklists,
                        cada mision te entrega una medalla y revela una pieza del puzzle vertical.
                    </p>
                    <ul class="instruction-list">
                        <li>Lee el contexto narrativo antes de activar cada sala.</li>
                        <li>Completa el checklist del bot en cada mision (todos los items).</li>
                        <li>Marca la mision completada para obtener tu medalla y revelar una pieza del puzzle.</li>
                        <li>Guarda evidencias: seran tu respaldo en la mision final.</li>
                        <li>Al terminar las 6 misiones, accede al puzzle para descubrir la identidad de tu mascota guardiana.</li>
                    </ul>
                    <div class="alert alert-warning">
                        <i class="bi bi-puzzle-fill me-2"></i>
                        <strong>Mision de Rescate:</strong> Hay 5 mascotas guardianas posibles (AstroByte, Nexo, Lumina, Pixelon, Synthi).
                        Cada estudiante rescata una diferente. Â¿Cual sera la tuya?
                    </div>
                    <div class="alert alert-info">
                        <i class="bi bi-lightbulb-fill me-2"></i>
                        Si quieres el relato completo, abre la historia antes de comenzar.
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    <button type="button" id="btnSaberMasHistoria" class="btn btn-primary">
                        <i class="bi bi-book me-1"></i>Saber mas
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL DE CHECKLIST GLOBAL -->
    <div class="modal fade" id="modalChecklistGlobal" tabindex="-1" aria-labelledby="modalChecklistGlobalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title" id="modalChecklistGlobalLabel">
                        <i class="bi bi-list-check me-2"></i>Checklist de Misiones
                    </h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body">
                    <!-- Barra de progreso global -->
                    <div class="mb-4">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <span class="fw-bold">Progreso General</span>
                            <span id="progressText" class="text-muted">0 / 6 completadas</span>
                        </div>
                        <div class="progress" style="height: 25px;">
                            <div id="progressBar" class="progress-bar progress-bar-striped progress-bar-animated" 
                                 role="progressbar" style="width: 0%" 
                                 aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
                        </div>
                    </div>
                    
                    <!-- Lista de misiones -->
                    <div id="checklistMissionsList" class="checklist-missions-list">
                        <!-- Se llenarÃ¡ dinÃ¡micamente con JS -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL DE INSTRUCCIONES -->
    <div class="modal fade" id="modalInstrucciones" tabindex="-1" aria-labelledby="modalInstruccionesLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title" id="modalInstruccionesLabel">
                        <i class="bi bi-compass me-2"></i>Instrucciones de NavegaciÃ³n
                    </h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body">
                    <h4>Mapa de navegacion del Centro de Mando</h4>
                    <ol class="instruction-list">
                        <li>
                            <strong>Explora las herramientas:</strong> Cada utensilio es una sala de entrenamiento.
                            Pasa el cursor para leer el nombre de la mision.
                        </li>
                        <li>
                            <strong>Activa la sala:</strong> Al hacer clic, se abre el contexto, las instrucciones y el acceso
                            a la actividad de la mision.
                        </li>
                        <li>
                            <strong>Tipos de misiones:</strong>
                            <ul>
                                <li><span class="badge bg-obligatoria">Obligatoria</span> - Debes completarla</li>
                                <li><span class="badge bg-optativa">Optativa</span> - Puedes elegir completarla</li>
                                <li><span class="badge bg-refuerzo">Refuerzo</span> - Para profundizar tus conocimientos</li>
                            </ul>
                        </li>
                        <li>
                            <strong>Accede al recurso:</strong> Usa el boton "Ir al recurso" para entrar a la plataforma de la mision.
                        </li>
                        <li>
                            <strong>Usa el bot interactivo:</strong> Haz clic en el bot para abrir el panel de ayuda. Alli encontraras
                            la historia, pasos guiados y el <strong>checklist de cada mision</strong>.
                        </li>
                        <li>
                            <strong>Completa el checklist:</strong> Marca cada paso del checklist en el bot a medida que avances.
                            Solo cuando completes todos los items podras marcar la mision como completada.
                        </li>
                        <li>
                            <strong>Gana medallas y rescata tu mascota:</strong> Al completar una mision, ganas una medalla y revelas
                            una pieza del puzzle. Tu mascota guardiana esta perdida en el ciberespacio y solo tu puedes rescatarla.
                        </li>
                        <li>
                            <strong>Arma el puzzle:</strong> Cada medalla obtenida revela una pieza. Completa las 6 misiones para
                            rescatar completamente a tu mascota guardiana y descubrir su identidad y mensaje.
                        </li>
                        <li>
                            <strong>Regresa al inicio:</strong> Usa el boton "Inicio" para volver a la sala principal.
                        </li>
                    </ol>
                    
                    <h4 class="mt-4"><i class="bi bi-puzzle-fill me-2"></i>Rescata tu Mascota Guardiana</h4>
                    <p class="text-warning fw-bold">
                        Â¡Tu mascota guardiana se ha perdido en el ciberespacio y solo tu puedes rescatarla!
                    </p>
                    <p>
                        Para rescatarla debes completar las 6 misiones del Centro de Mando. Cada vez que completes una mision
                        y su checklist, revelaras una pieza del puzzle. Las piezas aparecen plateadas hasta que las desbloqueas.
                    </p>
                    <p>
                        Cuando completes todas las misiones, el puzzle revelara la identidad de tu <strong>mascota guardiana</strong>,
                        una entidad digital que te protege en el mundo tecnologico. Hay 5 mascotas posibles:
                    </p>
                    <ul class="instruction-list">
                        <li><strong>AstroByte</strong> - El Explorador de Datos (Te guia en la curiosidad estructurada)</li>
                        <li><strong>Nexo</strong> - El Guardian del Nucleo Etico (Te protege con etica digital)</li>
                        <li><strong>Lumina</strong> - La Energia de la Evolucion (Te impulsa con creatividad)</li>
                        <li><strong>Pixelon</strong> - El Tejedor de Conexiones (Te conecta con pensamiento sistemico)</li>
                        <li><strong>Synthi</strong> - La Inteligencia Evolutiva (Te acompaÃ±a en el uso critico de IA)</li>
                    </ul>
                    <p class="text-muted fst-italic">
                        Cada estudiante rescata una mascota diferente de forma aleatoria. Tu mascota guardiana representa
                        las habilidades que desarrollaste en tu recorrido y te protegera en el mundo digital.
                    </p>
                    
                    <div class="alert alert-info mt-3">
                        <i class="bi bi-lightbulb-fill me-2"></i>
                        <strong>Consejo:</strong> Puedes usar la tecla Tab para navegar entre las salas con el teclado.
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Entendido</button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL DE MEDALLERO -->
    <div class="modal fade" id="modalMedallero" tabindex="-1" aria-labelledby="modalMedalleroLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title" id="modalMedalleroLabel">
                        <i class="bi bi-award-fill me-2"></i>Medallero de Progreso
                    </h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body">
                    <p class="text-center mb-4">
                        <i class="bi bi-trophy-fill text-warning me-2"></i>
                        Haz clic en las medallas para ver su historia
                    </p>
                    <div id="medalRack" class="medal-rack-modal" aria-label="Medallas de progreso">
                        <!-- Se llenarÃ¡ dinÃ¡micamente con JS -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL DE HISTORIA DE MEDALLA -->
    <div class="modal fade" id="modalMedalStory" tabindex="-1" aria-labelledby="modalMedalStoryLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title" id="modalMedalStoryLabel">
                        <i class="bi bi-star-fill me-2 text-warning"></i><span id="medalStoryTitle"></span>
                    </h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body">
                    <div class="text-center mb-4">
                        <img id="medalStoryImage" src="" alt="" class="medal-story-image">
                    </div>
                    <div id="medalStoryContent" class="medal-story-content">
                        <!-- Se llenarÃ¡ dinÃ¡micamente con JS -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL DE PUZZLE -->
    <div class="modal fade" id="modalPuzzle" tabindex="-1" aria-labelledby="modalPuzzleLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title" id="modalPuzzleLabel">
                        <img src="assets/img/puzle.png" alt="" class="icon-img-sm me-2">Entidad Digital
                    </h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body">
                    <div class="puzzle-intro mb-4" id="puzzleIntro">
                        <p class="lead text-center">
                            <i class="bi bi-puzzle-fill me-2"></i>
                            Â¡Tu mascota guardiana se ha perdido en el ciberespacio!
                        </p>
                        <p class="text-center text-muted">
                            Completa las 6 misiones y sus checklists para rescatarla pieza por pieza.
                            Cada medalla ganada revela una parte de tu compaÃ±ero digital.
                        </p>
                    </div>
                    
                    <!-- Progreso del puzzle -->
                    <div class="puzzle-progress mb-4">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <span class="fw-bold">Progreso</span>
                            <span id="puzzleProgressText" class="text-muted">0 / 6 piezas</span>
                        </div>
                        <div class="progress" style="height: 20px;">
                            <div id="puzzleProgressBar" class="progress-bar bg-info" 
                                 role="progressbar" style="width: 0%" 
                                 aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
                        </div>
                    </div>
                    
                    <!-- Grid del puzzle -->
                    <div id="puzzleGrid" class="puzzle-grid">
                        <div class="puzzle-piece" data-piece="1"><span class="puzzle-number">1</span></div>
                        <div class="puzzle-piece" data-piece="2"><span class="puzzle-number">2</span></div>
                        <div class="puzzle-piece" data-piece="3"><span class="puzzle-number">3</span></div>
                        <div class="puzzle-piece" data-piece="4"><span class="puzzle-number">4</span></div>
                        <div class="puzzle-piece" data-piece="5"><span class="puzzle-number">5</span></div>
                        <div class="puzzle-piece" data-piece="6"><span class="puzzle-number">6</span></div>
                    </div>
                    
                    <!-- Mensaje final cuando se complete -->
                    <div id="puzzleComplete" class="puzzle-complete" style="display: none;">
                        <div class="alert alert-success mt-4">
                            <h4 class="alert-heading" id="petName"></h4>
                            <p id="petStory"></p>
                            <hr>
                            <p class="mb-0" id="petMessage"></p>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- TOAST DE BIENVENIDA ATECT BOT -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3" style="z-index: 11000;">
        <div id="atectWelcomeToast" class="toast atect-toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="7000">
            <div class="toast-header atect-toast-header">
                <div class="bot-avatar me-2">ðŸ¤–</div>
                <strong class="me-auto">Atect Bot</strong>
                <small>Centro de Mando</small>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Cerrar"></button>
            </div>
            <div class="toast-body atect-toast-body">
                Soy Atect Bot ðŸ¤–.<br>
                Estoy aqui para abrir la ruta antes de cada mision y explicar los conceptos clave.<br>
                Si tienes dudas, buscame y te guiare paso a paso.
            </div>
        </div>
    </div>

    <!-- TOAST DE FELICITACIÃ“N POR MEDALLA -->
    <div class="toast-container position-fixed top-50 start-50 translate-middle" style="z-index: 11001;">
        <div id="medalEarnedToast" class="toast medal-toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="6000">
            <div class="toast-header medal-toast-header">
                <i class="bi bi-award-fill text-warning me-2" style="font-size: 1.5rem;"></i>
                <strong class="me-auto">Â¡Felicitaciones!</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Cerrar"></button>
            </div>
            <div class="toast-body medal-toast-body text-center">
                <h5 id="medalToastTitle" class="mb-3"></h5>
                <p id="medalToastMessage" class="mb-3"></p>
                <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#modalPuzzle" onclick="bootstrap.Toast.getInstance(document.getElementById('medalEarnedToast')).hide();">
                    <img src="assets/img/puzle.png" alt="" class="icon-img-sm me-1">Ver Puzzle
                </button>
            </div>
        </div>
    </div>

    <!-- MODAL PANEL TEÃ“RICO A1 -->
    <div class="modal fade" id="modalTheoryA1" tabindex="-1" aria-labelledby="modalTheoryA1Label" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
            <div class="modal-content theory-modal">
                <div class="modal-header theory-modal-header">
                    <div class="d-flex align-items-center">
                        <div class="bot-avatar-large me-3">ðŸ¤–</div>
                        <div>
                            <h3 class="modal-title mb-0" id="modalTheoryA1Label">
                                Conceptos bÃ¡sicos para iniciar la misiÃ³n
                            </h3>
                            <small class="text-muted">Atect Bot te explica</small>
                        </div>
                    </div>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body theory-modal-body">
                    <div class="theory-content">
                        <p class="lead mb-4">
                            Antes de activar el Panel de Datos, domina este vocabulario. Son las claves que abren el crucigrama.
                        </p>
                        <div class="theory-inline">
                            <details class="theory-section" open>
                                <summary><i class="bi bi-lightbulb-fill text-warning me-2"></i>Tecnologia Digital</summary>
                                <p class="mt-2"><strong>Definicion corta:</strong> Conjunto de herramientas electronicas que permiten crear y comunicar informacion.</p>
                                <p><strong>Definicion ampliada:</strong> La tecnologia digital se refiere al uso de dispositivos electronicos y sistemas computacionales que procesan informacion en formato digital (codigos binarios), como computadores, celulares e internet.</p>
                                <p><strong>Ejemplo:</strong> Enviar un mensaje por WhatsApp o usar una plataforma educativa.</p>
                            </details>
                            <details class="theory-section">
                                <summary><i class="bi bi-robot text-primary me-2"></i>Inteligencia Artificial (IA)</summary>
                                <p class="mt-2"><strong>Definicion corta:</strong> Tecnologia que imita ciertas capacidades humanas mediante datos y algoritmos.</p>
                                <p><strong>Definicion ampliada:</strong> La inteligencia artificial es una rama de la tecnologia que permite a los sistemas informaticos realizar tareas que normalmente requieren inteligencia humana, como reconocer imagenes, analizar informacion o tomar decisiones.</p>
                                <p><strong>Ejemplo:</strong> Recomendaciones de Netflix o respuestas de ChatGPT.</p>
                            </details>
                            <details class="theory-section">
                                <summary><i class="bi bi-diagram-3-fill text-success me-2"></i>Algoritmo</summary>
                                <p class="mt-2"><strong>Definicion corta:</strong> Secuencia ordenada de pasos para resolver un problema.</p>
                                <p><strong>Definicion ampliada:</strong> Un algoritmo es un conjunto de instrucciones organizadas que indican como realizar una tarea o resolver una situacion especifica.</p>
                                <p><strong>Ejemplo:</strong> La receta de cocina o el orden de operaciones en una aplicacion.</p>
                            </details>
                            <details class="theory-section">
                                <summary><i class="bi bi-database-fill text-info me-2"></i>Datos</summary>
                                <p class="mt-2"><strong>Definicion corta:</strong> Informacion que los sistemas utilizan para funcionar o aprender.</p>
                                <p><strong>Definicion ampliada:</strong> Los datos son elementos de informacion (numeros, textos, imagenes, sonidos) que permiten a los sistemas digitales procesar, analizar y generar resultados.</p>
                                <p><strong>Ejemplo:</strong> Las busquedas que realizas en Google.</p>
                            </details>
                            <details class="theory-section">
                                <summary><i class="bi bi-gear-fill text-secondary me-2"></i>Automatizacion</summary>
                                <p class="mt-2"><strong>Definicion corta:</strong> Uso de tecnologia para realizar tareas automaticamente.</p>
                                <p><strong>Definicion ampliada:</strong> La automatizacion consiste en delegar a sistemas tecnologicos la ejecucion de tareas repetitivas o complejas sin intervencion constante de una persona.</p>
                                <p><strong>Ejemplo:</strong> Un semaforo inteligente o un chatbot de atencion al cliente.</p>
                            </details>
                            <details class="theory-section">
                                <summary><i class="bi bi-shield-check-fill text-success me-2"></i>Privacidad Digital</summary>
                                <p class="mt-2"><strong>Definicion corta:</strong> Proteccion de la informacion personal en internet.</p>
                                <p><strong>Definicion ampliada:</strong> La privacidad digital implica resguardar los datos personales y controlar que informacion compartimos en entornos digitales.</p>
                                <p><strong>Ejemplo:</strong> Configurar quien puede ver tus publicaciones en redes sociales.</p>
                            </details>
                            <details class="theory-section">
                                <summary><i class="bi bi-shield-check-fill text-success me-2"></i>Etica Digital</summary>
                                <p class="mt-2"><strong>Definicion corta:</strong> Normas y valores que orientan el uso responsable de la tecnologia.</p>
                                <p><strong>Definicion ampliada:</strong> La etica digital se refiere a los principios que regulan el comportamiento en entornos tecnologicos, promoviendo respeto, responsabilidad y uso consciente.</p>
                                <p><strong>Ejemplo:</strong> No usar IA para copiar tareas sin reflexion.</p>
                            </details>
                            <details class="theory-section">
                                <summary><i class="bi bi-person-fill text-info me-2"></i>Usuario</summary>
                                <p class="mt-2"><strong>Definicion corta:</strong> Persona que utiliza una tecnologia o sistema digital.</p>
                                <p><strong>Definicion ampliada:</strong> El usuario es quien interactua con dispositivos, aplicaciones o plataformas digitales.</p>
                                <p><strong>Ejemplo:</strong> Un estudiante que utiliza una plataforma educativa.</p>
                            </details>
                            <details class="theory-section">
                                <summary><i class="bi bi-globe2 text-primary me-2"></i>Internet</summary>
                                <p class="mt-2"><strong>Definicion corta:</strong> Red mundial que conecta dispositivos para compartir informacion.</p>
                                <p><strong>Definicion ampliada:</strong> Internet es una red global de comunicacion que permite el intercambio de informacion entre dispositivos conectados.</p>
                                <p><strong>Ejemplo:</strong> Buscar informacion en linea.</p>
                            </details>
                            <details class="theory-section">
                                <summary><i class="bi bi-cpu-fill text-warning me-2"></i>Aprendizaje Automatico (Machine Learning)</summary>
                                <p class="mt-2"><strong>Definicion corta:</strong> Sistema que mejora su funcionamiento a partir de datos.</p>
                                <p><strong>Definicion ampliada:</strong> Es una tecnica dentro de la inteligencia artificial que permite a los sistemas aprender patrones a partir de grandes cantidades de datos sin ser programados paso a paso.</p>
                                <p><strong>Ejemplo:</strong> El reconocimiento facial en el celular.</p>
                            </details>
                        </div>

                        <div class="alert alert-info mt-4">
                            <i class="bi bi-info-circle-fill me-2"></i>
                            <strong>Consejo de Atect Bot:</strong> Estos conceptos aparecen en el crucigrama. Leelos con atencion antes de empezar.
                        </div>
                    </div>
                </div>
                <div class="modal-footer theory-modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        <i class="bi bi-x-lg me-2"></i>Cerrar
                    </button>
                    <button type="button" class="btn btn-primary" id="btnGoToCrossword">
                        <i class="bi bi-play-fill me-2"></i>Ir al crucigrama
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha384-1H217gwSVyLSIfaLxHbE7dRb3v4mYCKbpQvzx0cegeju1MVsGrX5xXxAvs/HgeFs" crossorigin="anonymous"></script>
    
    <!-- Bootstrap 5 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    
    <!-- Custom JS -->
    <script src="js/app.js"></script>
</body>
</html>
